<ng-template #opResult>
  <app-bd-bulk-operation-result [bulkOpResult]="bulkOpResult"></app-bd-bulk-operation-result>
</ng-template>

<app-bd-dialog [loadingWhen$]="loading$">
  <app-bd-dialog-toolbar header="Bulk User Group Manipulation" [panel]="true"></app-bd-dialog-toolbar>
  <app-bd-dialog-content>
    @if (bulk.selection$ | async; as selections) {
      <div class="flex flex-col gap-2.5">
        <div><strong>{{ selections.length }}</strong> user groups selected.</div>
        <mat-divider></mat-divider>
        <app-bd-panel-button
          [collapsed]="false"
          [disabled]="!selections.length"
          text="Assign Permission..."
          icon="security"
          [route]="['panels', 'admin', 'user-group-bulk-manip', 'assign-permission']"
        ></app-bd-panel-button>
        <app-bd-panel-button
          [collapsed]="false"
          [disabled]="!selections.length"
          text="Remove Permission..."
          icon="gpp_bad"
          [route]="['panels', 'admin', 'user-group-bulk-manip', 'remove-permission']"
        ></app-bd-panel-button>
        <app-bd-button
          [collapsed]="false"
          [disabled]="!selections.length"
          text="Activate Selected Groups"
          icon="person"
          (click)="onSetInactive(false)"
        ></app-bd-button>
        <app-bd-button
          [collapsed]="false"
          [disabled]="!selections.length"
          text="Deactivate Selected Groups"
          icon="person_off"
          (click)="onSetInactive(true)"
        ></app-bd-button>
        <app-bd-button
          [collapsed]="false"
          [disabled]="!selections.length"
          text="Delete Selected Groups"
          icon="delete"
          (click)="onDelete()"
        ></app-bd-button>
      </div>
    }
  </app-bd-dialog-content>
</app-bd-dialog>
