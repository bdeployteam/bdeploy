<app-bd-dialog>
  <app-bd-dialog-toolbar [header]="header">
    <div class="flex-auto"></div>
    <app-bd-button
      text="Report Details"
      [collapsed]="true"
      color="primary"
      icon="info"
      [routerLink]="['', { outlets: { panel: ['panels', 'reports', 'details'] } }]"
      [disabled]="!generated"
    >
    </app-bd-button>
    <app-bd-button text="Export" [collapsed]="false" icon="csv" (click)="exportCsv()" [disabled]="!generated">
    </app-bd-button>
    <app-bd-data-grouping
      (groupingChange)="grouping = $event"
      [definitions]="definitions"
      [records]="rows"
      [presetKey]="report?.type + 'Report'"
    ></app-bd-data-grouping>
  </app-bd-dialog-toolbar>

  <app-bd-dialog-content>
    <app-bd-data-table
      #dataDisplay
      [records]="rows"
      [grouping]="grouping"
      [columns]="columns"
      [maxRows]="10000"
      [searchable]="false"
      (recordClick)="showRowDetails($event)"
    ></app-bd-data-table>
  </app-bd-dialog-content>
</app-bd-dialog>
